---
import "../styles/global.css";
import Header from "../components/ui/Header.astro";
import Footer from "../components/ui/Footer.astro";

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="es" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&family=PT+Sans:wght@400;700&display=swap"
			rel="stylesheet"
		/>
		<script src="https://unpkg.com/lucide@latest"></script>
		<meta name="generator" content={Astro.generator} />
		<title>Jemodev - {title}</title>
	</head>
	<body
		class="bg-slate-900 leading-relaxed text-slate-400 antialiased selection:bg-teal-300 selection:text-teal-900"
	>
		<!-- Spotlight Overlay -->
		<div id="spotlight" class="spotlight hidden lg:block"></div>

		<div
			class="mx-auto min-h-screen max-w-7xl px-6 py-12 font-sans md:px-12 md:py-20 lg:px-24 lg:py-0"
		>
			<div class="lg:flex lg:justify-between lg:gap-4">
				<Header />

				<main id="content" class="pt-24 lg:w-1/2 lg:py-24">
					<slot />

					<Footer />
				</main>
			</div>
		</div>
	</body>

	<style>
		/* Spotlight Effect Logic */
		.spotlight {
			background: radial-gradient(
				600px circle at var(--x) var(--y),
				rgba(29, 78, 216, 0.15),
				transparent 80%
			);
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 30;
			pointer-events: none;
		}

		/* Custom Scrollbar */
		::-webkit-scrollbar {
			width: 8px;
		}
		::-webkit-scrollbar-track {
			background: #0f172a;
		}
		::-webkit-scrollbar-thumb {
			background: #334155;
			border-radius: 4px;
		}
		::-webkit-scrollbar-thumb:hover {
			background: #475569;
		}
	</style>

	<script>
		// Spotlight Logic
		const spotlight = document.getElementById("spotlight");
		document.addEventListener("mousemove", (e) => {
			const x = e.clientX;
			const y = e.clientY;
			spotlight?.style.setProperty("--x", `${x}px`);
			spotlight?.style.setProperty("--y", `${y}px`);
		});

		// Navigation Active State Logic (Simple Intersection Observer)
		const sections = document.querySelectorAll("section");
		const navLinks = document.querySelectorAll(".nav-link");

		const observer = new IntersectionObserver(
			(entries) => {
				entries.forEach((entry) => {
					if (entry.isIntersecting) {
						navLinks.forEach((link) => {
							link.classList.remove("active");
							const href = link.getAttribute("href");
							if (href && href.substring(1) === entry.target.id) {
								link.classList.add("active");
							}
						});
					}
				});
			},
			{ threshold: 0.5 },
		);

		sections.forEach((section) => {
			observer.observe(section);
		});
	</script>
</html>
