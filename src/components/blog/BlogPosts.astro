---
import PostItem from "./PostItem.astro";
import type { Post } from "@/types";

const url = `${import.meta.env.API_URL}/posts`;
const response = await fetch(url);
const json = await response.json();
const posts: Post[] = json;
console.log(posts);
---

{
    posts.map((post, index) => (
        <>
            <PostItem post={post} />
            {index < posts.length - 1 && (
                <div class="my-12 flex items-center">
                    <div
                        aria-hidden="true"
                        class="w-full border-t border-zinc-300/20"
                    />
                    <div class="relative flex justify-center">
                        <span class="bg-slate-900 px-2 text-sm text-zinc-500">
                            Continue
                        </span>
                    </div>
                    <div
                        aria-hidden="true"
                        class="w-full border-t border-zinc-300/20"
                    />
                </div>
            )}
        </>
    ))
}
